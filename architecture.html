

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>4. Software Architecture &#8212; LinkageJS Requirements Specification</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/my-styles.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/lbl-icon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="5. Annex" href="annex.html" />
    <link rel="prev" title="3. Requirements" href="requirements.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.12.4.min.js "></script>
<script type="text/javascript" src="_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="_static/bootstrap-3.4.1/js/bootstrap.min.js "></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          LinkageJS</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="abstract.html">1. Abstract</a></li>
<li class="toctree-l1"><a class="reference internal" href="preamble.html">2. Preamble and Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">3. Requirements</a><ul>
<li class="toctree-l2"><a class="reference internal" href="requirements.html#general-description">3.1. General Description</a><ul>
<li class="toctree-l3"><a class="reference internal" href="requirements.html#main-requirements">3.1.1. Main Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="requirements.html#software-compatibility">3.1.2. Software Compatibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="requirements.html#ui-visual-structure">3.1.3. UI Visual Structure</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="requirements.html#detailed-functionalities">3.2. Detailed Functionalities</a></li>
<li class="toctree-l2"><a class="reference internal" href="requirements.html#modelica-graphical-user-interface">3.3. Modelica Graphical User Interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="requirements.html#modelica-language">3.3.1. Modelica Language</a></li>
<li class="toctree-l3"><a class="reference internal" href="requirements.html#json-representation">3.3.2. JSON Representation</a></li>
<li class="toctree-l3"><a class="reference internal" href="requirements.html#connection-lines">3.3.3. Connection Lines</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="requirements.html#configuration-widget">3.4. Configuration Widget</a><ul>
<li class="toctree-l3"><a class="reference internal" href="requirements.html#functionalities">3.4.1. Functionalities</a></li>
<li class="toctree-l3"><a class="reference internal" href="requirements.html#data-model">3.4.2. Data Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="requirements.html#fluid-connectors">3.4.3. Fluid Connectors</a></li>
<li class="toctree-l3"><a class="reference internal" href="requirements.html#signal-connectors">3.4.4. Signal Connectors</a></li>
<li class="toctree-l3"><a class="reference internal" href="requirements.html#control-sequence-configuration">3.4.5. Control Sequence Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="requirements.html#parameters-setting">3.5. Parameters Setting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="requirements.html#multiple-selection">3.5.1. Multiple Selection</a></li>
<li class="toctree-l3"><a class="reference internal" href="requirements.html#array-selection">3.5.2. Array Selection</a></li>
<li class="toctree-l3"><a class="reference internal" href="requirements.html#enumeration-and-boolean">3.5.3. Enumeration and Boolean</a></li>
<li class="toctree-l3"><a class="reference internal" href="requirements.html#record">3.5.4. Record</a></li>
<li class="toctree-l3"><a class="reference internal" href="requirements.html#grouped-parameters">3.5.5. Grouped Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="requirements.html#validation">3.5.6. Validation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="requirements.html#documentation-export">3.6. Documentation Export</a><ul>
<li class="toctree-l3"><a class="reference internal" href="requirements.html#engineering-schematics">3.6.1. Engineering Schematics</a></li>
<li class="toctree-l3"><a class="reference internal" href="requirements.html#control-points-list">3.6.2. Control Points List</a></li>
<li class="toctree-l3"><a class="reference internal" href="requirements.html#control-sequence-description">3.6.3. Control Sequence Description</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="requirements.html#working-with-tagged-variables">3.7. Working with Tagged Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="requirements.html#openstudio-integration">3.8. OpenStudio Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="requirements.html#interface-with-urbanopt-geojson">3.9. Interface with URBANopt GeoJSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="requirements.html#licensing">3.10. Licensing</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">4. Software Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="annex.html">5. Annex</a><ul>
<li class="toctree-l2"><a class="reference internal" href="annex.html#example-of-the-configuration-data-structure">5.1. Example of the Configuration Data Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="annex.html#main-features-of-the-expandable-connectors">5.2. Main Features of the Expandable Connectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="annex.html#validating-the-use-of-expandable-connectors">5.3. Validating the Use of Expandable Connectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="annex.html#validating-the-use-of-expandable-connector-arrays">5.4. Validating the Use of Expandable Connector Arrays</a><ul>
<li class="toctree-l3"><a class="reference internal" href="annex.html#connecting-one-central-system-model-to-an-array-of-terminal-system-models">5.4.1. Connecting One Central System Model to an Array of Terminal System Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="annex.html#connecting-an-array-of-central-system-models-to-an-array-of-terminal-system-models">5.4.2. Connecting an Array of Central System Models to an Array of Terminal System Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="annex.html#passing-on-a-scalar-variable-to-an-array-of-system-models">5.4.3. Passing on a Scalar Variable to an Array of System Models</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="acknowledgments.html">6. Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">7. References</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">4. Software Architecture</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="requirements.html" title="Previous Chapter: 3. Requirements"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; 3. Requirements</span>
    </a>
  </li>
  <li>
    <a href="annex.html" title="Next Chapter: 5. Annex"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">5. Annex &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <div class="section" id="software-architecture">
<span id="sec-architecture"></span><h1><span class="section-number">4. </span>Software Architecture<a class="headerlink" href="#software-architecture" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="#linkage-architecture-legend"><span class="std std-numref">Fig. 4.1</span></a> to <a class="reference internal" href="#linkage-architecture-os"><span class="std std-numref">Fig. 4.5</span></a> provide architecture diagrams for the three integration targets.
Those are not hard and fast. They rather aim at illustrating the data workflow and describing the main modules to develop, and how they interface with LBL or third party developments.</p>
<p>The following definitions and conventions are used.</p>
<blockquote>
<div><p>Config(uration) data: pieces of data provided as input to the configuration widget, see <a class="reference internal" href="requirements.html#sec-data-model"><span class="std std-numref">Section 3.4.2</span></a> for definitions and <a class="reference internal" href="annex.html#sec-annex-json"><span class="std std-numref">Section 5.1</span></a> for an actual example.</p>
<p>Model data: pieces of data used by the graphical editor to allow manipulating a Modelica model. Those correspond to the Modelica code as interpreted by the editor according to its specific data model.</p>
<p>Return <em>&lt;arg&gt;</em>: describes the translating task from one language (e.g. Modelica or Brick) or one data model (e.g. Modelica raw code or JSON) to another, specified by <em>&lt;arg&gt;</em>.</p>
<p>Input: describes the user action of setting a parameter value through mouse or keyboard input.</p>
<p>Call &gt;&gt; return <em>&lt;arg&gt;</em>: describes a bidirectional task where a component A calls another component B, and B returns <em>&lt;arg&gt;</em> to A.</p>
</div></blockquote>
<div class="figure align-default" id="linkage-architecture-legend">
<img alt="_images/linkage_architecture_legend.svg" src="_images/linkage_architecture_legend.svg" /><p class="caption"><span class="caption-number">Fig. 4.1 </span><span class="caption-text">Software architecture legend</span><a class="headerlink" href="#linkage-architecture-legend" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-default" id="linkage-architecture-plugin">
<img alt="_images/linkage_architecture_plugin.svg" src="_images/linkage_architecture_plugin.svg" /><p class="caption"><span class="caption-number">Fig. 4.2 </span><span class="caption-text">Software architecture for the configuration widget integrated as a plugin to an existing graphical editor for Modelica</span><a class="headerlink" href="#linkage-architecture-plugin" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-default" id="linkage-architecture">
<img alt="_images/linkage_architecture.svg" src="_images/linkage_architecture.svg" /><p class="caption"><span class="caption-number">Fig. 4.3 </span><span class="caption-text">Software architecture for the full-featured graphical editor embedding the configuration widget - Desktop app</span><a class="headerlink" href="#linkage-architecture" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-default" id="linkage-architecture-spa">
<img alt="_images/linkage_architecture_spa.svg" src="_images/linkage_architecture_spa.svg" /><p class="caption"><span class="caption-number">Fig. 4.4 </span><span class="caption-text">Software architecture for the full-featured graphical editor embedding the configuration widget - Standalone web app</span><a class="headerlink" href="#linkage-architecture-spa" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-default" id="linkage-architecture-os">
<img alt="_images/linkage_architecture_os.svg" src="_images/linkage_architecture_os.svg" /><p class="caption"><span class="caption-number">Fig. 4.5 </span><span class="caption-text">Software architecture for the full-featured graphical editor embedding the configuration widget - Integration in third party application e.g. <a class="reference external" href="https://www.openstudio.net">OpenStudio®</a> (OS)</span><a class="headerlink" href="#linkage-architecture-os" title="Permalink to this image">¶</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
  
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
      
    </p>
    <p>
        &copy; Copyright 2017-2019 The Regents of the University of California through Lawrence Berkeley National Laboratory. All rights reserved.<br/>
      Last updated on Apr, 10, 2020.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.<br/>
    </p>
  </div>
</footer>

  </body>
</html>